<!DOCTYPE html> <html> <head> <meta charset="utf-8"/> <meta name="viewport" content="width=device-width, initial-scale=1"/> <title> Conway's Game of Life in React | Syntheta.se </title> <script type="text/javascript" src="https://use.fontawesome.com/0523816ffe.js"></script> <link rel="alternate" type="application/rss+xml" title="Syntheta.se RSS" href="/feed.xml"/> <link type="text/css" rel="stylesheet" href="/assets/css/main.css"/> <link type="text/css" rel="stylesheet" href="/assets/css/syntax.css"/> <link rel="icon" type="image/png" href="/assets/images/favicon-32x32.png" sizes="32x32"/> <link rel="icon" type="image/png" href="/assets/images/favicon-16x16.png" sizes="16x16"/> <meta name="generator" content="Jekyll v3.9.1"/> <meta property="og:title" content="Conway’s Game of Life in React"/> <meta name="author" content="David Allen"/> <meta property="og:locale" content="en_US"/> <meta name="description" content="Implementing Conway’s game of life can be a fun way of diving into a new language and/or framework, as it requires quite a bit more than your average ‘hello world’ program. It gives you a chance to have a good play in your new sandpit and learn about your new tools."/> <meta property="og:description" content="Implementing Conway’s game of life can be a fun way of diving into a new language and/or framework, as it requires quite a bit more than your average ‘hello world’ program. It gives you a chance to have a good play in your new sandpit and learn about your new tools."/> <link rel="canonical" href="https://syntheta.se/coding/2018/07/14/conways-game-of-life-in-react.html"/> <meta property="og:url" content="https://syntheta.se/coding/2018/07/14/conways-game-of-life-in-react.html"/> <meta property="og:site_name" content="Syntheta.se"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2018-07-14T00:00:00+00:00"/> <script type="application/ld+json">
{"author":{"@type":"Person","name":"David Allen"},"headline":"Conway’s Game of Life in React","dateModified":"2018-07-14T00:00:00+00:00","datePublished":"2018-07-14T00:00:00+00:00","description":"Implementing Conway’s game of life can be a fun way of diving into a new language and/or framework, as it requires quite a bit more than your average ‘hello world’ program. It gives you a chance to have a good play in your new sandpit and learn about your new tools.","url":"https://syntheta.se/coding/2018/07/14/conways-game-of-life-in-react.html","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://syntheta.se/coding/2018/07/14/conways-game-of-life-in-react.html"},"@context":"https://schema.org"}</script> </head> <body> <div id="page-wrapper"> <header> <noscript> <div id="noscript"> JavaScript is turned off. Please <a href="http://enable-javascript.com/" target="_blank"> enable JavaScript </a> for full use of this site. </div> </noscript> <div id="masthead"> <div id="heading"> <a href="/"> <h1>Synthetase's World of Nerd</h1> </a> </div> </div> <nav id="main-menu"> <button id="nav-icon" type="button"> <i class="fa fa-bars"></i> <i class="fa fa-caret-down" aria-hidden="true"></i> </button> <ul> <li> <a href="/"> Home </a> </li> <li> <a href="/coding/" class="selected"> Coding </a> </li> <li> <a href="/projects/"> Projects </a> </li> <li> <a href="/about/"> About </a> </li> </ul> </nav> </header> <div id="content-wrapper"> <div id="article"> <div class="article-header"> <div class="title-section"> <div class="thumb-container"> <img src="/assets/images/logos/react.svg" alt="Conway's Game of Life in React"/> </div> <div class="post-title"> <h2>Conway's Game of Life in React</h2> </div> </div> <ul class="post-data"> <li> <p> <i class="fa fa-calendar" aria-hidden="false"></i><noscript>Posted on</noscript> 14 July 2018&ensp;|&ensp; </p> </li> <li> <p> <i class="fa fa-tags" aria-hidden="false"></i><noscript>Tagged in</noscript> <a href="/tags/#react">react</a>, <a href="/tags/#javascript">javascript</a>, <a href="/tags/#development">development</a>, <a href="/tags/#portfolio">portfolio</a>. </p> </li> </ul> </div> <p>Implementing <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">Conway’s game of life</a> can be a fun way of diving into a new language and/or framework, as it requires quite a bit more than your average ‘hello world’ program. It gives you a chance to have a good play in your new sandpit and learn about your new tools.</p> <h3 id="the-game">The Game</h3> <p>Click on the game board to add some starting cells. Clicking and dragging adds lots of cells. Once you have some cells, you can use the buttons below to start and stop the game.</p> <div id="root"></div> <script type="text/javascript" src="/assets/javascript/game-of-life.js"></script> <link type="text/css" rel="stylesheet" href="/assets/css/game-of-life.css"/> <h3 id="the-why">The Why</h3> <p>In this case, I was trying out some ideas for state management in React that didn’t use <code class="language-plaintext highlighter-rouge">setState</code> or any third party state management libraries. What I wanted was to severely limit the number of stateful React components and use pure components wherever possible. I also didn’t want to get bogged down in tedious boilerplate for state management.</p> <p>What I ended up doing, in essence, was re-creating MVC in React, but keeping it nice and simple and making it as functional as possible.</p> <h3 id="basic-mvc-in-react">Basic MVC in React</h3> <p>Interestingly, this was not the goal, but ended up as the solution. I wanted to decouple the state management from the view and the game logic, so I wrote a <code class="language-plaintext highlighter-rouge">Repository</code> class that held the state, along with a couple of getter and setter functions. To avoid side-effects, the repository functions are pure and do not modify the state, instead they always return a new copy of it. This served as the ‘M’ of MVC.</p> <p>Next, I wrote the React components, keeping them all completely pure (with the exception of the root, which apparently <em>must</em> be a class-based stateful component). The game state is passed into the root component of the game and divided up amoungst the child components as required. This constituted the ‘V’.</p> <p>Lastly, I put the game logic into a seperate controller file, satisfying the ‘C’. The view doesn’t know anything about the game state model, so for every action the game wants to perform, it calls out to a function in the controller. These functions deal with basic game logic (starting and pausing, rendering the next frame, etc) and, in turn, hit the repository to update the state with the new values.</p> <h3 id="conclusions">Conclusions</h3> <p>I really like the way this has turned out becuase it’s so easy to modify. The decoupling between the components makes it really simple to add new functionality. All I have to do is write a new controller ‘action’ function and pass it into the relevant view component. The action function will take care of talking to the state repository and the repository itself takes care of updating and maintaining the state.</p> <p>The implementation details of any given part of the system can be ripped out (and, in fact, have been) and replaced without affecting the rest of it. It’s also fairly light weight. There’s no magic here, just basic JS functions being, well, functional.</p> <div class="git-link-container"> <div class="git-link"> <a href="https://github.com/StaphSynth/game_of_life" target="_blank"> <i class="fa fa-github-square social" aria-hidden="true"></i>Code on Github </a> </div> </div> </div> </div> <footer> <div id=footer-container> <div id="connect"> <p>Connect with me:</p> <ul> <li> <a href="https://github.com/StaphSynth" target="_blank"> <i class="fa fa-github-square social" aria-hidden="false"></i> </a> </li> <li> <a href="https://www.linkedin.com/in/david-allen-102290119/" data-proofer-ignore target="_blank"> <i class="fa fa-linkedin-square social" aria-hidden="false"></i> </a> </li> <li> <a href="https://syntheta.se/feed.xml"> <i class="fa fa-rss-square social" aria-hidden="false"></i> </a> </li> </ul> </div> <div id="licence"> <ul> <li id="ccLogo"> <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"> <img src="https://syntheta.se/assets/images/cc.png" alt="Creative commons logo"/> </a> </li> <li>This site is licensed under a Creative Commons <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"> Attribution-ShareAlike </a> 4.0 International Licence. </li> </ul> </div> </div> </footer> </div> </body> <script type="text/javascript">!function(){function t(){["https://code.jquery.com/jquery-1.11.0.min.js","https://syntheta.se/assets/javascript/synth.js"].forEach(t=>{const e=document.createElement("script");e.src=t,e.type="text/javascript",e.async=!1,document.body.appendChild(e)})}window.addEventListener("load",t,!1)}();</script> </html>