<!DOCTYPE html> <html> <head> <meta charset="utf-8"/> <meta name="viewport" content="width=device-width, initial-scale=1"/> <title> Getting Started With Ruby | Syntheta.se </title> <script type="text/javascript" src="https://use.fontawesome.com/0523816ffe.js"></script> <link rel="alternate" type="application/rss+xml" title="Syntheta.se RSS" href="/feed.xml"/> <link type="text/css" rel="stylesheet" href="/assets/css/main.css"/> <link type="text/css" rel="stylesheet" href="/assets/css/syntax.css"/> <link rel="icon" type="image/png" href="/assets/images/favicon-32x32.png" sizes="32x32"/> <link rel="icon" type="image/png" href="/assets/images/favicon-16x16.png" sizes="16x16"/> <meta name="generator" content="Jekyll v4.3.2"/> <meta property="og:title" content="Getting Started With Ruby"/> <meta name="author" content="David Allen"/> <meta property="og:locale" content="en_US"/> <meta name="description" content="I love Ruby, it’s very satisfying and developer-friendly to use. Ironically, despite its focus on developer friendliness, it can be a real pain to set up properly, which leaves a sour taste in the mouth for new users. In this post, we’ll walk through setting up Ruby on your Mac or Linux computer. This post is aimed primarily at inexperienced users, so feel free to ignore the explanations if you’re at home editing Bash profiles."/> <meta property="og:description" content="I love Ruby, it’s very satisfying and developer-friendly to use. Ironically, despite its focus on developer friendliness, it can be a real pain to set up properly, which leaves a sour taste in the mouth for new users. In this post, we’ll walk through setting up Ruby on your Mac or Linux computer. This post is aimed primarily at inexperienced users, so feel free to ignore the explanations if you’re at home editing Bash profiles."/> <link rel="canonical" href="https://syntheta.se/coding/2018/12/09/getting-started-with-ruby.html"/> <meta property="og:url" content="https://syntheta.se/coding/2018/12/09/getting-started-with-ruby.html"/> <meta property="og:site_name" content="Syntheta.se"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2018-12-09T00:00:00+00:00"/> <meta name="twitter:card" content="summary"/> <meta property="twitter:title" content="Getting Started With Ruby"/> <script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"David Allen"},"dateModified":"2018-12-09T00:00:00+00:00","datePublished":"2018-12-09T00:00:00+00:00","description":"I love Ruby, it’s very satisfying and developer-friendly to use. Ironically, despite its focus on developer friendliness, it can be a real pain to set up properly, which leaves a sour taste in the mouth for new users. In this post, we’ll walk through setting up Ruby on your Mac or Linux computer. This post is aimed primarily at inexperienced users, so feel free to ignore the explanations if you’re at home editing Bash profiles.","headline":"Getting Started With Ruby","mainEntityOfPage":{"@type":"WebPage","@id":"https://syntheta.se/coding/2018/12/09/getting-started-with-ruby.html"},"url":"https://syntheta.se/coding/2018/12/09/getting-started-with-ruby.html"}</script> </head> <body> <div id="page-wrapper"> <header> <noscript> <div id="noscript"> JavaScript is turned off. Please <a href="https://enable-javascript.com/" target="_blank"> enable JavaScript </a> for full use of this site. </div> </noscript> <div id="masthead"> <div id="heading"> <a href="/"> <h1>Synthetase's World of Nerd</h1> </a> </div> </div> <nav id="main-menu"> <button id="nav-icon" type="button"> <i class="fa fa-bars"></i> <i class="fa fa-caret-down" aria-hidden="true"></i> </button> <ul> <li> <a href="/"> Home </a> </li> <li> <a href="/coding/" class="selected"> Coding </a> </li> <li> <a href="/projects/"> Projects </a> </li> <li> <a href="/about/"> About </a> </li> </ul> </nav> </header> <div id="content-wrapper"> <section id="article"> <div class="article-header"> <div class="title-section"> <div class="thumb-container"> <img src="/assets/images/logos/ruby.jpg" alt="" aria-hidden="true"/> </div> <div class="post-title"> <h2>Getting Started With Ruby</h2> </div> </div> <ul class="post-data"> <li> <p> <i class="fa fa-calendar" aria-hidden="false" title="First published"></i><noscript>First published</noscript> 09 December 2018&ensp;|&ensp; </p> </li> <li> <p> <i class="fa fa-edit" aria-hidden="false" title="Last modified"></i><noscript>Last modified</noscript> 17 July 2023&ensp;|&ensp; </p> </li> <li> <p> <i class="fa fa-tags" aria-hidden="false" title="Tags"></i><noscript>Tags</noscript> <a href="/tags/#ruby">ruby</a>. </p> </li> </ul> </div> <p>I love Ruby, it’s very satisfying and developer-friendly to use. Ironically, despite its focus on developer friendliness, it can be a real pain to set up properly, which leaves a sour taste in the mouth for new users. In this post, we’ll walk through setting up Ruby on your Mac or Linux computer. This post is aimed primarily at inexperienced users, so feel free to ignore the explanations if you’re at home editing Bash profiles.</p> <h3 id="first-things-first">First Things First</h3> <p>One of the reasons that setting up Ruby can be annoying is that there are so <em>many</em> different versions of Ruby. Which do you choose? What if you picked the wrong one? What if you want to run software that was written in a different version to the one you have? Before we answer these questions, let’s look at why there are so many different versions of Ruby.</p> <p>Ruby, like everything, is imperfect. The language has evolved over the last twenty-something years into what it is today. As bug-fixes, improvements and features have been added to the language, they have been released into the wild in new Ruby versions. This keeps a sane, chronological order in place and allows software that was written in older versions to keep working becuase <em>those</em> versions haven’t changed, they’ve just been superseded.</p> <p>Okay, so how do you deal with this mess? The short answer is you don’t. You use a <em>Ruby version manager</em> to deal with it for you. There are several popular version managers to choose from: <a href="https://rvm.io/">rvm</a>, <a href="http://rbenv.org/">rbenv</a> and <a href="https://github.com/postmodern/chruby">chruby</a> (I’m sure there are several others I’m unaware of as well).</p> <p>I’ve used all of them, but I prefer rbenv, so that’s what we’ll use here. (As a quick aside, if you’ve installed any other Ruby version manager previously but you want to follow along now, you should make sure to uninstall it completely from your system before you continue. Rbenv is likely to be incompatible with it and you may get unexpected behaviour.)</p> <h3 id="installing-rbenv">Installing Rbenv</h3> <h4 id="macos-x">macOS X</h4> <p>On macOS it’s a doddle, you can do it via <a href="https://brew.sh/">homebrew</a>.</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew <span class="nb">install </span>rbenv
</code></pre></div></div> <p>This one command installs both rbenv and a plugin called ruby-build which allows you to easily install Ruby. Once the installation is complete, you then initialise it like so:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rbenv init
</code></pre></div></div> <p>This makes sure rbenv is set up and running in your terminal environment. Now you’re ready to install Ruby!</p> <h4 id="linux">Linux</h4> <p>Setup on Linux requires a few more manual steps than macOS, but it’s still fairly straight forward.</p> <p>First, you’ll need to use git to clone rbenv to your system.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git clone https://github.com/rbenv/rbenv.git ~/.rbenv
</code></pre></div></div> <p>Once rbenv has been cloned, you need to tell the system that it exists. You do this by adding it to the system <a href="http://www.linfo.org/path_env_var.html">PATH</a>. Every time you type a command at the terminal, the shell searches the system PATH to find the executable you’re invoking. We will add rbenv to the PATH so you can use it on the command line.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ echo 'export PATH="$HOME/.rbenv/bin:$PATH"\neval "$(rbenv init -)"' &gt;&gt; ~/&lt;YOUR_SHELL_PROFILE_NAME&gt;
</code></pre></div></div> <p>The above command will add two lines to the bottom of your shell profile: <code class="language-plaintext highlighter-rouge">export PATH="$HOME/.rbenv/bin:$PATH"</code>, which adds rbenv to the system PATH; and <code class="language-plaintext highlighter-rouge">eval "$(rbenv init -)"</code> which will make sure rbenv is initialised every time you start your terminal.</p> <p>You’ll need to replace <code class="language-plaintext highlighter-rouge">&lt;YOUR_SHELL_PROFILE_NAME&gt;</code> with the name of your profile file. If you’re using Bash, it’s likely to be either <code class="language-plaintext highlighter-rouge">.bash_profile</code> or <code class="language-plaintext highlighter-rouge">.bashrc</code>. If you’re using Zsh, it’s <code class="language-plaintext highlighter-rouge">.zshrc</code>.</p> <p>Once this is done, restart the terminal for it to take effect. To check it has, run</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ command -v rbenv
</code></pre></div></div> <p>If rbenv is available, this command will output the string <code class="language-plaintext highlighter-rouge">rbenv</code>, otherwise, it’ll do nothing.</p> <p>The last thing you need to do is install an rbenv plugin called <a href="https://github.com/rbenv/ruby-build">ruby-build</a> that will make installing new Ruby versions trivial.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ mkdir -p "$(rbenv root)"/plugins
$ git clone https://github.com/rbenv/ruby-build.git "$(rbenv root)"/plugins/ruby-build
</code></pre></div></div> <p>Now you’re (finally!) ready to install Ruby!</p> <h3 id="installing-ruby">Installing Ruby</h3> <p>Now that you have rbenv installed and working, you can install as many versions of Ruby you like using the <code class="language-plaintext highlighter-rouge">rbenv install</code> command.</p> <p>To see a list of Ruby versions available for installation, run <code class="language-plaintext highlighter-rouge">rbenv install -l</code>. The list this prints out is quite long and comprehensive. For our purposes, we’re really only interested in the plain Rubies up the top (the ones that only have numbers in their version names). The others (like JRuby, etc) are different implementations of Ruby written by the wider Ruby community.</p> <p>Let’s install Ruby 3.2.2</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rbenv <span class="nb">install </span>3.2.2
</code></pre></div></div> <hr/> <p><strong>Note to Linux users:</strong> The above command downloads Ruby source code and compiles it on your system. You <em>may</em> experience errors here if you do not have a C compiler and the appropriate libraries installed. Due to the sheer number of different Linux distributions and setups, it’s impossible to give accurate guidance here. If you experience compilation errors, I suggest googling the error messages or checking help forums for your distribution.</p> <hr/> <p></p> <h3 id="selecting-a-ruby-version">Selecting a Ruby Version</h3> <p>It’s all well and good to have multiple Ruby versions installed, but how do you switch between them, and how does rbenv know when to use the right one for your project?</p> <p>Rbenv acheives this through the use of three variables: <code class="language-plaintext highlighter-rouge">rbenv global</code>, <code class="language-plaintext highlighter-rouge">rbenv local</code> and <code class="language-plaintext highlighter-rouge">rbenv shell</code>.</p> <h4 id="rbenv-global">Rbenv Global</h4> <p>As its name suggests, this sets the ‘global’ version of Ruby to use in the command line when no other version is specified. Basically, it’ll act like a system default Ruby, but you can override it later if you need to use a different version. Let’s set the global Ruby version to the one we just installed like so:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rbenv global 3.2.2
</code></pre></div></div> <p>Now all calls to Ruby from anywhere on the command line will be directed by rbenv to version 3.2.2. The global version setting is stored in the <code class="language-plaintext highlighter-rouge">~/.rbenv/version</code> file.</p> <p>You can check this by running</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ruby <span class="nt">--version</span>
</code></pre></div></div> <p>You should see something like <code class="language-plaintext highlighter-rouge">ruby 3.2.2</code> along with some other meta info.</p> <h4 id="rbenv-local">Rbenv Local</h4> <p>This sets the Ruby version to be used in the current local folder where the command is run, and overrides the global setting. For example, let’s say you’re in <code class="language-plaintext highlighter-rouge">~/cool_ruby_project</code>. If you run the following:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rbenv local 3.1.3
</code></pre></div></div> <p>Then rbenv will create a file in this folder called <code class="language-plaintext highlighter-rouge">.ruby-version</code> which contains nothing but the text <code class="language-plaintext highlighter-rouge">3.1.3</code>.</p> <p>When you try to run a Ruby command in this folder, rbenv will first read this file to determine that Ruby 3.1.3 should be used instead of the global 3.2.2. If you haven’t installed version 3.1.3, rbenv will print an error stating that it’s not installed.</p> <h4 id="rbenv-shell">Rbenv Shell</h4> <p>This command sets the version for the current terminal session only, and overrides both the global and local settings. To set it:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rbenv shell 2.7.6
</code></pre></div></div> <p>This sets the local terminal environment variable <code class="language-plaintext highlighter-rouge">RBENV_VERSION</code> to <code class="language-plaintext highlighter-rouge">2.7.6</code>. To unset it (and return to the local or global setting):</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rbenv shell --unset
</code></pre></div></div> <h3 id="conclusions">Conclusions</h3> <p>This does seem like a lot of stuffing around just to use a programming language, but doing it this way will avoid a lot of headaches in the future. Rbenv allows you to have as many versions of Ruby installed as you need, and keeps them and their gems isolated from each other so your projects don’t step on each others toes. It’s well worth a little extra effort now, for the sanity you get to keep later.</p> <h3 id="more-helpful-things">More Helpful Things</h3> <p></p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rbenv versions <span class="c"># Lists every version of Ruby known to Rbenv installed on your system.</span>
<span class="nv">$ </span>rbenv version <span class="c"># Prints the current active version of Ruby (useful for sanity checking).</span>
</code></pre></div></div> <p>For more useful commands and more advanced features, the rbenv documentation can be found <a href="https://github.com/rbenv/rbenv/blob/master/README.md">here</a>.</p> </section> </div> <footer> <div id=footer-container> <section id="connect"> <p>Connect with me:</p> <ul> <li> <a href="https://github.com/StaphSynth" target="_blank"> <i class="fa fa-github-square social" title="Github" aria-hidden="false"></i> </a> </li> <li> <a href="https://www.linkedin.com/in/david-allen-102290119/" data-proofer-ignore target="_blank"> <i class="fa fa-linkedin-square social" title="LinkedIn" aria-hidden="false"></i> </a> </li> <li> <a href="https://syntheta.se/feed.xml"> <i class="fa fa-rss-square social" title="RSS feed" aria-hidden="false"></i> </a> </li> </ul> </section> <section id="licence"> <ul> <li id="ccLogo"> <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"> <img src="https://syntheta.se/assets/images/cc.png" alt="Creative commons logo"/> </a> </li> <li>This site is licensed under a Creative Commons <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"> Attribution-ShareAlike </a> 4.0 International Licence. </li> </ul> </section> </div> </footer> </div> </body> <script type="text/javascript">!function(){function t(){["https://code.jquery.com/jquery-1.11.0.min.js","https://syntheta.se/assets/javascript/synth.js"].forEach(t=>{const e=document.createElement("script");e.src=t,e.type="text/javascript",e.async=!1,document.body.appendChild(e)})}window.addEventListener("load",t,!1)}();</script> </html>