<!DOCTYPE html> <html> <head> <meta charset="utf-8"/> <meta name="viewport" content="width=device-width, initial-scale=1"/> <title> Implementing Tags in Jekyll | Syntheta.se </title> <script type="text/javascript" src="https://use.fontawesome.com/0523816ffe.js"></script> <link rel="alternate" type="application/rss+xml" title="Syntheta.se RSS" href="/feed.xml"/> <link type="text/css" rel="stylesheet" href="/assets/css/main.css"/> <link type="text/css" rel="stylesheet" href="/assets/css/syntax.css"/> <link rel="icon" type="image/png" href="/assets/images/favicon-32x32.png" sizes="32x32"/> <link rel="icon" type="image/png" href="/assets/images/favicon-16x16.png" sizes="16x16"/> <meta name="generator" content="Jekyll v4.3.2"/> <meta property="og:title" content="Implementing Tags in Jekyll"/> <meta name="author" content="David Allen"/> <meta property="og:locale" content="en_US"/> <meta name="description" content="How to implement tags in Jekyll/Github pages without plugins."/> <meta property="og:description" content="How to implement tags in Jekyll/Github pages without plugins."/> <link rel="canonical" href="https://syntheta.se/coding/2016/09/23/tags-in-jekyll.html"/> <meta property="og:url" content="https://syntheta.se/coding/2016/09/23/tags-in-jekyll.html"/> <meta property="og:site_name" content="Syntheta.se"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2016-09-23T00:00:00+00:00"/> <meta name="twitter:card" content="summary"/> <meta property="twitter:title" content="Implementing Tags in Jekyll"/> <script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"David Allen"},"dateModified":"2016-09-23T00:00:00+00:00","datePublished":"2016-09-23T00:00:00+00:00","description":"How to implement tags in Jekyll/Github pages without plugins.","headline":"Implementing Tags in Jekyll","mainEntityOfPage":{"@type":"WebPage","@id":"https://syntheta.se/coding/2016/09/23/tags-in-jekyll.html"},"url":"https://syntheta.se/coding/2016/09/23/tags-in-jekyll.html"}</script> </head> <body> <div id="page-wrapper"> <header> <noscript> <div id="noscript"> JavaScript is turned off. Please <a href="https://enable-javascript.com/" target="_blank"> enable JavaScript </a> for full use of this site. </div> </noscript> <div id="masthead"> <div id="heading"> <a href="/"> <h1>Synthetase's World of Nerd</h1> </a> </div> </div> <nav id="main-menu"> <button id="nav-icon" type="button"> <i class="fa fa-bars"></i> <i class="fa fa-caret-down" aria-hidden="true"></i> </button> <div class="menu-container menu-closed"> <ul class="menu-content"> <li> <a href="/"> Home </a> </li> <li> <a href="/coding/" class="selected"> Coding </a> </li> <li> <a href="/projects/"> Projects </a> </li> <li> <a href="/about/"> About </a> </li> </ul> </div> </nav> </header> <div id="content-wrapper"> <section id="article"> <div class="article-header"> <div class="title-section"> <div class="thumb-container"> <img src="/assets/images/logos/jekyll.jpg" alt="" aria-hidden="true"/> </div> <div class="post-title"> <h2>Implementing Tags in Jekyll</h2> </div> </div> <ul class="post-data"> <li> <p> <i class="fa fa-calendar" aria-hidden="false" title="First published"></i><noscript>First published</noscript> 23 September 2016&ensp;|&ensp; </p> </li> <li> <p> <i class="fa fa-edit" aria-hidden="false" title="Last modified"></i><noscript>Last modified</noscript> 22 February 2023&ensp;|&ensp; </p> </li> <li> <p> <i class="fa fa-tags" aria-hidden="false" title="Tags"></i><noscript>Tags</noscript> <a href="/tags/#jekyll">jekyll</a>, <a href="/tags/#web">web</a>, <a href="/tags/#development">development</a>. </p> </li> </ul> </div> <p>As <a href="http://charliepark.org/tags-in-jekyll/">others</a> <a href="https://blog.brandonparsons.me/2015-using-tags-in-a-jekyll-blog-on-github-pages">have</a> <a href="https://christianspecht.de/2014/10/25/separate-pages-per-tag-category-with-jekyll-without-plugins/">pointed out</a>, Jekyll doesn’t really support blog tags right out of the box. There are plugins that will do it for you - or you can write your own - but if you’re like me and serving your site from github pages, then you have a problem. Github pages only supports bare-bones Jekyll and “native” plugins listed under the <a href="https://github.com/jekyll">project repo</a>.</p> <p>So what to do? Well, you’ll have to write some moderately complex liquid to get around this problem. Or, you could do what I did and find someone else who’s already solved it and modify their code to suit your needs.</p> <p>Firstly, it’s easy to give your posts tags by simply adding them as a YAML <a href="http://symfony.com/doc/current/components/yaml/yaml_format.html#collections">collection</a> in your front matter like so:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">post</span>
<span class="na">tags</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">cakes</span>
  <span class="pi">-</span> <span class="s">biscuits</span>
  <span class="pi">-</span> <span class="s">diabetes</span>
<span class="nn">---</span>
</code></pre></div></div> <p>The problem comes when you need to access them globally so you can sort them into a list and associate them with your posts. I modified code I found in a couple of blog posts to make that happen here (update from 2023: sadly both these pages are now defunct, so I’ve removed the broken links). Before we get into that, though, you need to display the tags in the post itself in the form of links to the “tag” page we will create to display all the tags on the site. To do that, simply modifiy your post.html (or whatever layout you’re using to display your posts). Here’s what does that on this site:</p> <div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">tag</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">tags</span><span class="w"> </span><span class="cp">%}</span>
  &lt;a href="/tags/#<span class="cp">{{</span><span class="w"> </span><span class="nv">tag</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">cgi_escape</span><span class="w"> </span><span class="cp">}}</span>"&gt;<span class="cp">{{</span><span class="w"> </span><span class="nv">tag</span><span class="w"> </span><span class="cp">}}</span>&lt;/a&gt;<span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nb">forloop.last</span><span class="w"> </span><span class="cp">%}</span>.<span class="cp">{%</span><span class="w"> </span><span class="nt">else</span><span class="w"> </span><span class="cp">%}</span>,<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span>
</code></pre></div></div> <p>Now we can create the new <code class="language-plaintext highlighter-rouge">tags.md</code> file and get to the interesting stuff. First off, we need to grab all the tag values in the site and store them in a variable, separated by a marker of your choice (I’m using a comma here). Then split it using the marker to form an array of tags.</p> <div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">{%</span><span class="w"> </span><span class="nt">comment</span><span class="w"> </span><span class="cp">%}</span><span class="c">
  Get the tag name for every tag on the site and set them to the 'site_tags' variable.
</span><span class="cp">{%</span><span class="w"> </span><span class="nt">endcomment</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">capture</span><span class="w"> </span><span class="nv">site_tags</span><span class="w"> </span><span class="cp">%}{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">tag</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">tags</span><span class="w"> </span><span class="cp">%}{{</span><span class="w"> </span><span class="nv">tag</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">first</span><span class="w"> </span><span class="cp">}}{%</span><span class="w"> </span><span class="nt">unless</span><span class="w"> </span><span class="nb">forloop.last</span><span class="w"> </span><span class="cp">%}</span>,<span class="cp">{%</span><span class="w"> </span><span class="nt">endunless</span><span class="w"> </span><span class="cp">%}{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}{%</span><span class="w"> </span><span class="nt">endcapture</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">comment</span><span class="w"> </span><span class="cp">%}</span><span class="c">
  'tag_words' is a sorted array of the tag names.
</span><span class="cp">{%</span><span class="w"> </span><span class="nt">endcomment</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">tag_words</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">site_tags</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">split</span><span class="p">:</span><span class="s1">','</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">sort</span><span class="w"> </span><span class="cp">%}</span>
</code></pre></div></div> <p>Then simply loop through the array to print out the tags. Interestingly, we can also print out the number of posts using each tag as well.</p> <div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">{%</span><span class="w"> </span><span class="nt">comment</span><span class="w"> </span><span class="cp">%}</span><span class="c"> List all the tags at the top of the page </span><span class="cp">{%</span><span class="w"> </span><span class="nt">endcomment</span><span class="w"> </span><span class="cp">%}</span>

&lt;ul id="tags"&gt;
  <span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">..</span><span class="nv">site</span><span class="p">.</span><span class="nv">tags</span><span class="p">.</span><span class="nf">size</span><span class="p">)</span><span class="w"> </span><span class="cp">%}</span>
    <span class="cp">{%</span><span class="w"> </span><span class="nt">unless</span><span class="w"> </span><span class="nb">forloop.last</span><span class="w"> </span><span class="cp">%}</span>
      <span class="cp">{%</span><span class="w"> </span><span class="nt">capture</span><span class="w"> </span><span class="nv">this_word</span><span class="w"> </span><span class="cp">%}{{</span><span class="w"> </span><span class="nv">tag_words</span><span class="p">[</span><span class="nv">item</span><span class="p">]</span><span class="w"> </span><span class="cp">}}{%</span><span class="w"> </span><span class="nt">endcapture</span><span class="w"> </span><span class="cp">%}</span>
      &lt;li&gt;
        &lt;a href="#<span class="cp">{{</span><span class="w"> </span><span class="nv">this_word</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">cgi_escape</span><span class="w"> </span><span class="cp">}}</span>" class="tag"&gt;<span class="cp">{{</span><span class="w"> </span><span class="nv">this_word</span><span class="w"> </span><span class="cp">}}</span>
          &lt;span&gt;(<span class="cp">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">tags</span><span class="p">[</span><span class="nv">this_word</span><span class="p">].</span><span class="nf">size</span><span class="w"> </span><span class="cp">}}</span>)&lt;/span&gt;
        &lt;/a&gt;
      &lt;/li&gt;
    <span class="cp">{%</span><span class="w"> </span><span class="nt">endunless</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span>
&lt;/ul&gt;
</code></pre></div></div> <p>Finally, loop through all the tags, printing out a list of all the posts that use them with links to the original post URLs.</p> <div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">{%</span><span class="w"> </span><span class="nt">comment</span><span class="w"> </span><span class="cp">%}</span><span class="c"> List all the posts under each tag </span><span class="cp">{%</span><span class="w"> </span><span class="nt">endcomment</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">..</span><span class="nv">site</span><span class="p">.</span><span class="nv">tags</span><span class="p">.</span><span class="nf">size</span><span class="p">)</span><span class="w"> </span><span class="cp">%}{%</span><span class="w"> </span><span class="nt">unless</span><span class="w"> </span><span class="nb">forloop.last</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">capture</span><span class="w"> </span><span class="nv">this_word</span><span class="w"> </span><span class="cp">%}{{</span><span class="w"> </span><span class="nv">tag_words</span><span class="p">[</span><span class="nv">item</span><span class="p">]</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">strip_newlines</span><span class="w"> </span><span class="cp">}}{%</span><span class="w"> </span><span class="nt">endcapture</span><span class="w"> </span><span class="cp">%}</span>
  &lt;h3 id="<span class="cp">{{</span><span class="w"> </span><span class="nv">this_word</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">cgi_escape</span><span class="w"> </span><span class="cp">}}</span>"&gt;<span class="cp">{{</span><span class="w"> </span><span class="nv">this_word</span><span class="w"> </span><span class="cp">}}</span>&lt;/h3&gt;
  &lt;ul class="posts"&gt;
    <span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">post</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">tags</span><span class="p">[</span><span class="nv">this_word</span><span class="p">]</span><span class="w"> </span><span class="cp">%}</span>
      <span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">post</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">null</span><span class="w"> </span><span class="cp">%}</span>
        &lt;li itemscope&gt;&lt;span class="entry-date"&gt;
          &lt;time datetime="<span class="cp">{{</span><span class="w"> </span><span class="nv">post</span><span class="p">.</span><span class="nv">date</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">date_to_xmlschema</span><span class="w"> </span><span class="cp">}}</span>" itemprop="datePublished"&gt;<span class="cp">{{</span><span class="w"> </span><span class="nv">post</span><span class="p">.</span><span class="nv">date</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">date_to_long_string</span><span class="w"> </span><span class="cp">}}</span>&lt;/time&gt;&lt;/span&gt; &amp;bull; &lt;a href="<span class="cp">{{</span><span class="w"> </span><span class="nv">post</span><span class="p">.</span><span class="nv">url</span><span class="w"> </span><span class="cp">}}</span>"&gt;<span class="cp">{{</span><span class="w"> </span><span class="nv">post</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="cp">}}</span>&lt;/a&gt;
        &lt;/li&gt;
      <span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span>
    <span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span>
  &lt;/ul&gt;
  <span class="cp">{%</span><span class="w"> </span><span class="nt">endunless</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span>
</code></pre></div></div> <p>And that’s it. All that remains is for you to style up your tags however you like. There are some <a href="http://cssglobe.com/pure-css3-post-tags/">nice</a> <a href="http://codepen.io/wbeeftink/pen/dIaDH">tricks</a> out there for doing that as well, but I went for a more traditional plain text look here.</p> <div id="disqus_thread"></div> <script type="text/javaScript">var disqus_config=function(){this.page.url="https://syntheta.se/coding/2016/09/23/tags-in-jekyll.html",this.page.identifier="/coding/2016/09/23/tags-in-jekyll"};!function(){var t=document,e=t.createElement("script");e.src="https://synthetase.disqus.com/embed.js",e.setAttribute("data-timestamp",new Date),(t.head||t.body).appendChild(e)}();</script> <noscript> Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow"> comments powered by Disqus. </a> </noscript> </section> </div> <footer> <div id=footer-container> <section id="connect"> <p>Connect with me:</p> <ul> <li> <a href="https://github.com/StaphSynth" target="_blank"> <i class="fa fa-github-square social" title="Github" aria-hidden="false"></i> </a> </li> <li> <a href="https://www.linkedin.com/in/david-allen-102290119/" data-proofer-ignore target="_blank"> <i class="fa fa-linkedin-square social" title="LinkedIn" aria-hidden="false"></i> </a> </li> <li> <a href="https://syntheta.se/feed.xml"> <i class="fa fa-rss-square social" title="RSS feed" aria-hidden="false"></i> </a> </li> </ul> </section> <section id="licence"> <ul> <li id="ccLogo"> <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"> <img src="https://syntheta.se/assets/images/cc.png" alt="Creative commons logo"/> </a> </li> <li>This site is licensed under a Creative Commons <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"> Attribution-ShareAlike </a> 4.0 International Licence. </li> </ul> </section> </div> </footer> </div> </body> <script type="text/javascript">(()=>{const t=()=>{["/assets/javascript/main.js"].forEach(t=>{const e=document.createElement("script");e.src=t,e.type="text/javascript",e.async=!1,document.body.appendChild(e)})};window.addEventListener("load",t)})();</script> </html>