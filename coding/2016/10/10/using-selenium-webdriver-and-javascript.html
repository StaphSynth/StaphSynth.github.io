<!DOCTYPE html> <html> <head> <meta charset="utf-8"/> <meta name="viewport" content="width=device-width, initial-scale=1"/> <title> Getting Started Using Selenium-Webdriver JavaScript Bindings in Linux | Syntheta.se </title> <script type="text/javascript" src="https://use.fontawesome.com/0523816ffe.js"></script> <link rel="alternate" type="application/rss+xml" title="Syntheta.se RSS" href="/feed.xml"/> <link type="text/css" rel="stylesheet" href="/assets/css/main.css"/> <link type="text/css" rel="stylesheet" href="/assets/css/syntax.css"/> <link rel="icon" type="image/png" href="/assets/images/favicon-32x32.png" sizes="32x32"/> <link rel="icon" type="image/png" href="/assets/images/favicon-16x16.png" sizes="16x16"/> <meta name="generator" content="Jekyll v4.3.2"/> <meta property="og:title" content="Getting Started Using Selenium-Webdriver JavaScript Bindings in Linux"/> <meta name="author" content="David Allen"/> <meta property="og:locale" content="en_US"/> <meta name="description" content="A ‘Getting Started’ tutorial on Selenium-Webdriver JavaScript bindings in Linux. Installation, set-up, and running your first test."/> <meta property="og:description" content="A ‘Getting Started’ tutorial on Selenium-Webdriver JavaScript bindings in Linux. Installation, set-up, and running your first test."/> <link rel="canonical" href="https://syntheta.se/coding/2016/10/10/using-selenium-webdriver-and-javascript.html"/> <meta property="og:url" content="https://syntheta.se/coding/2016/10/10/using-selenium-webdriver-and-javascript.html"/> <meta property="og:site_name" content="Syntheta.se"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2016-10-10T00:00:00+00:00"/> <meta name="twitter:card" content="summary"/> <meta property="twitter:title" content="Getting Started Using Selenium-Webdriver JavaScript Bindings in Linux"/> <script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"David Allen"},"dateModified":"2016-10-10T00:00:00+00:00","datePublished":"2016-10-10T00:00:00+00:00","description":"A ‘Getting Started’ tutorial on Selenium-Webdriver JavaScript bindings in Linux. Installation, set-up, and running your first test.","headline":"Getting Started Using Selenium-Webdriver JavaScript Bindings in Linux","mainEntityOfPage":{"@type":"WebPage","@id":"https://syntheta.se/coding/2016/10/10/using-selenium-webdriver-and-javascript.html"},"url":"https://syntheta.se/coding/2016/10/10/using-selenium-webdriver-and-javascript.html"}</script> </head> <body> <div id="page-wrapper"> <header> <noscript> <div id="noscript"> JavaScript is turned off. Please <a href="https://enable-javascript.com/" target="_blank"> enable JavaScript </a> for full use of this site. </div> </noscript> <div id="masthead"> <div id="heading"> <a href="/"> <h1>Synthetase's World of Nerd</h1> </a> </div> </div> <nav id="main-menu"> <button id="nav-icon" type="button"> <i class="fa fa-bars"></i> <i class="fa fa-caret-down" aria-hidden="true"></i> </button> <div class="menu-container menu-closed"> <ul class="menu-content"> <li> <a href="/"> Home </a> </li> <li> <a href="/coding/" class="selected"> Coding </a> </li> <li> <a href="/projects/"> Projects </a> </li> <li> <a href="/about/"> About </a> </li> </ul> </div> </nav> </header> <div id="content-wrapper"> <section id="article"> <div class="article-header"> <div class="title-section"> <div class="thumb-container"> <img src="/assets/images/logos/selenium.jpg" alt="" aria-hidden="true"/> </div> <div class="post-title"> <h2>Getting Started Using Selenium-Webdriver JavaScript Bindings in Linux</h2> </div> </div> <ul class="post-data"> <li> <p> <i class="fa fa-calendar" aria-hidden="false" title="First published"></i><noscript>First published</noscript> 10 October 2016&ensp;|&ensp; </p> </li> <li> <p> <i class="fa fa-edit" aria-hidden="false" title="Last modified"></i><noscript>Last modified</noscript> 13 October 2016&ensp;|&ensp; </p> </li> <li> <p> <i class="fa fa-tags" aria-hidden="false" title="Tags"></i><noscript>Tags</noscript> <a href="/tags/#testing">testing</a>, <a href="/tags/#selenium">selenium</a>, <a href="/tags/#web">web</a>, <a href="/tags/#linux">linux</a>, <a href="/tags/#javascript">javascript</a>. </p> </li> </ul> </div> <p>I recently fell down the rabbit-hole of web automation testing. It’s been an interesting journey, so I thought I’d document what I’ve learned so far in a series of posts as a reference for others following the same path. Before we go any further, I should point out that I’m still very much a n00b here. These posts are meant to collate information I’ve gathered from across the web into a single resource and clear up some confusion I’ve come across. After reading, you should know how to get some basic test functionality up and running. However, it is not comprehensive.</p> <p>First, some definitions:</p> <p><strong><u>Selenium:</u></strong> Software that automates browsers. Selenium is actually a suite of tools for browser automation. There’s more information on <a href="http://www.seleniumhq.org/">their website</a>.</p> <p><strong><u>Webdriver:</u></strong> Is the official <a href="https://www.w3.org/TR/webdriver/">W3C</a> specification for interfacing with web browsers. So you tell Selenium what to do to execute your tests, and it controls the browser via webdriver.</p> <p><strong><u>Bindings:</u></strong> Where the rubber meets the road. This is <em>how</em> you tell Selenium what to do. You write code and your instructions are executed by Selenium. There are a different set of bindings for each of the supported languages used to control Selenium-Webdriver: <a href="http://docs.seleniumhq.org/docs/03_webdriver.jsp#java">Java</a>, <a href="http://docs.seleniumhq.org/docs/03_webdriver.jsp#c">C#</a>, <a href="http://docs.seleniumhq.org/docs/03_webdriver.jsp#python">Python</a>, <a href="http://docs.seleniumhq.org/docs/03_webdriver.jsp#ruby">Ruby</a>, <a href="http://docs.seleniumhq.org/docs/03_webdriver.jsp#perl">Perl</a>, <a href="http://docs.seleniumhq.org/docs/03_webdriver.jsp#php">PHP</a>, and <a href="http://docs.seleniumhq.org/docs/03_webdriver.jsp#javascript">JavaScript</a>. So, naturally, you’ll need to download and install the package with the bindings you want to use.</p> <p>I chose the JavaScript package, which was probably a mistake as most of the information you’ll find on the web relates to using Java and there are some differences in the approach. This is one of the reasons I’m writing this post: to help other lost souls searching for help using Selenium-Webdriver with JavaScript bindings.</p> <p>Right, that’s enough of that. Let’s move on to actually doing stuff.</p> <h3 id="download-and-install-nodejs">Download and Install Node.js</h3> <p>The Selenium-Webdriver JavaScript binding comes as a package for <a href="https://nodejs.org/en/">Node.js</a>, a stand-alone JS runtime engine. The code you write in JS to control Selenium-Webdriver is executed by the Node.js runtime engine, <em>not</em> the browser itself. I know this seems obvious, but I have noticed some confusion about this on the net, so I thought it was worth mentioning.</p> <p>First off, install Node.js. There are many <a href="http://ask.xmodulo.com/install-node-js-linux.html">pages</a> with <a href="http://www.2daygeek.com/install-nodejs-on-ubuntu-centos-debian-fedora-mint-rhel-opensuse/">instructions</a> covering installation on various Linux distros, including the <a href="https://nodejs.org/en/download/package-manager/">official</a> Node.js package installation page. When you’re done, check that Node.js is correctly installed and working using the console. If it is, it will report the version number.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ node --version
v4.6.0
</code></pre></div></div> <p>It’s important to note here that Selenium-Webdriver has limited support for different Node.js versions, so the latest and greatest might not work. Make sure the version you install is listed in the <a href="https://www.npmjs.com/package/selenium-webdriver#node-support-policy">Node Support Policy</a> table on the package doc page.</p> <h3 id="install-selenium-webdriver">Install Selenium-Webdriver</h3> <p>Once you’ve got Node.js installed, use the node package manager (NPM) to install the Selenium-Webdriver NPM package.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install selenium-webdriver
</code></pre></div></div> <p>Since Selenium-Webdriver is a node module and not an executable, if you want to check it’s all present and correct, you can browse to your <code class="language-plaintext highlighter-rouge">node_modules</code> folder. On my machine, it is one level above the <code class="language-plaintext highlighter-rouge">bin</code> folder containing the node executable:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cd /usr/local/node_modules
$ ls
selenium-webdriver
</code></pre></div></div> <h3 id="install-the-browsers-and-drivers">Install the Browser(s) and Driver(s)</h3> <p>Before we can make Selenium do anything interesting, we need to install browsers (duh ;) and the browser drivers for each browser we want to automate. The bowser driver is an executable written by the browser authors that allows Selenium to control the behaviour of the browser.</p> <p>Back in the day, before drivers, Selenium used to control the browser by injecting JS commands directly into the page. This is obviously not ideal as it’s implementation-dependant. With the driver abstraction, Selenium can use a single common ‘driver’ interface to talk to each browser driver, which in turn, commands the browser. But I digress.</p> <p>What’s important is that the browser and its driver are installed and available in your system <a href="http://www.linfo.org/path_env_var.html">PATH</a>.</p> <p>In my case, just to get something up and running, I decided to start from scratch with Chrome for the time being (for ordinary browsing, I use Firefox).</p> <p>Chrome installation (Ubuntu):</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo apt-get install libxss1 libappindicator1 libindicator7
$ wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb

$ sudo dpkg -i google-chrome*.deb
$ sudo apt-get install -f
</code></pre></div></div> <p>Chromedriver installation (Ubuntu):</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo apt-get install unzip

$ wget -N http://chromedriver.storage.googleapis.com/2.20/chromedriver_linux64.zip
$ unzip chromedriver_linux64.zip
$ chmod +x chromedriver

$ sudo mv -f chromedriver /usr/local/share/chromedriver
$ sudo ln -s /usr/local/share/chromedriver /usr/local/bin/chromedriver
$ sudo ln -s /usr/local/share/chromedriver /usr/bin/chromedriver
</code></pre></div></div> <h3 id="executing-your-first-test">Executing Your First Test</h3> <p>Finally, we can actually write some code. Create a new file <code class="language-plaintext highlighter-rouge">yourFileName.js</code> and save it anywhere convenient. Fire up your favourite text editor and add the following code:</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">webdriver</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">/usr/local/node_modules/selenium-webdriver</span><span class="dl">'</span><span class="p">),</span>
    <span class="nx">By</span> <span class="o">=</span> <span class="nx">webdriver</span><span class="p">.</span><span class="nx">By</span><span class="p">,</span>
    <span class="nx">until</span> <span class="o">=</span> <span class="nx">webdriver</span><span class="p">.</span><span class="nx">until</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">driver</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">webdriver</span><span class="p">.</span><span class="nc">Builder</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">forBrowser</span><span class="p">(</span><span class="dl">'</span><span class="s1">chrome</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">build</span><span class="p">();</span>
</code></pre></div></div> <p>This code sets up the <code class="language-plaintext highlighter-rouge">webdriver</code> and <code class="language-plaintext highlighter-rouge">driver</code> objects and allows you to begin controlling the browser. Note that the first line is telling node.js that you need the selenium-webdriver module. I just put the path to the module on my machine to get it up and running. I don’t like this method as it’s brittle, but it’s good enough for now.</p> <p>Once we’ve set up the environmet, we can start telling the browser what to do:</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">driver</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://www.google.com/ncr</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">driver</span><span class="p">.</span><span class="nf">findElement</span><span class="p">(</span><span class="nx">By</span><span class="p">.</span><span class="nf">name</span><span class="p">(</span><span class="dl">'</span><span class="s1">q</span><span class="dl">'</span><span class="p">)).</span><span class="nf">sendKeys</span><span class="p">(</span><span class="dl">'</span><span class="s1">webdriver</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">driver</span><span class="p">.</span><span class="nf">findElement</span><span class="p">(</span><span class="nx">By</span><span class="p">.</span><span class="nf">name</span><span class="p">(</span><span class="dl">'</span><span class="s1">btnG</span><span class="dl">'</span><span class="p">)).</span><span class="nf">click</span><span class="p">();</span>
<span class="nx">driver</span><span class="p">.</span><span class="nf">wait</span><span class="p">(</span><span class="nx">until</span><span class="p">.</span><span class="nf">titleIs</span><span class="p">(</span><span class="dl">'</span><span class="s1">webdriver - Google Search</span><span class="dl">'</span><span class="p">),</span> <span class="mi">1000</span><span class="p">);</span>
<span class="c1">//driver.quit();</span>
</code></pre></div></div> <p>This code snippet is from the Selenium-Webdriver <a href="https://www.npmjs.com/package/selenium-webdriver">node package</a> doc and instructs the browser to perform a google search for the term “webdriver”. If you uncomment out the last line, it will also kill the browser when it’s finished running.</p> <p>You can see that controlling the browser is done by calling methods on the <code class="language-plaintext highlighter-rouge">driver</code> object. For a list of commands and operations you can perform, see this <a href="http://docs.seleniumhq.org/docs/03_webdriver.jsp#selenium-webdriver-api-commands-and-operations">documentation page</a> on the Selenium site. The JavaScript example is always the last of the code snippet examples listed.</p> <p>To execute the test script, use node from the command line:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cd /path/to/your/testScript
$ node testScript.js
</code></pre></div></div> <p>That’s it for this post. As you can tell, we’ve barely scratched the surface and there’s plenty more to cover. Stay tuned for the next post in the series dealing with testing environments and JavaScript promises.</p> <p>As I said at the start, I’m still learning this myself, so comments, suggestions and corrections are welcome :)</p> <div id="disqus_thread"></div> <script type="text/javaScript">var disqus_config=function(){this.page.url="https://syntheta.se/coding/2016/10/10/using-selenium-webdriver-and-javascript.html",this.page.identifier="/coding/2016/10/10/using-selenium-webdriver-and-javascript"};!function(){var e=document,t=e.createElement("script");t.src="https://synthetase.disqus.com/embed.js",t.setAttribute("data-timestamp",new Date),(e.head||e.body).appendChild(t)}();</script> <noscript> Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow"> comments powered by Disqus. </a> </noscript> </section> </div> <footer> <div id=footer-container> <section id="connect"> <p>Connect with me:</p> <ul> <li> <a href="https://github.com/StaphSynth" target="_blank"> <i class="fa fa-github-square social" title="Github" aria-hidden="false"></i> </a> </li> <li> <a href="https://www.linkedin.com/in/david-allen-102290119/" data-proofer-ignore target="_blank"> <i class="fa fa-linkedin-square social" title="LinkedIn" aria-hidden="false"></i> </a> </li> <li> <a href="https://syntheta.se/feed.xml"> <i class="fa fa-rss-square social" title="RSS feed" aria-hidden="false"></i> </a> </li> </ul> </section> <section id="licence"> <ul> <li id="ccLogo"> <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"> <img src="https://syntheta.se/assets/images/cc.png" alt="Creative commons logo"/> </a> </li> <li>This site is licensed under a Creative Commons <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"> Attribution-ShareAlike </a> 4.0 International Licence. </li> </ul> </section> </div> </footer> </div> </body> <script type="text/javascript">(()=>{const t=()=>{["/assets/javascript/main.js"].forEach(t=>{const e=document.createElement("script");e.src=t,e.type="text/javascript",e.async=!1,document.body.appendChild(e)})};window.addEventListener("load",t)})();</script> </html>